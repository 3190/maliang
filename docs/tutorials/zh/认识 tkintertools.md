**目录**

- [基本介绍](#基本介绍)
  - [基本原理](#基本原理)
  - [模块优点](#模块优点)
  - [模块缺点](#模块缺点)
- [特色功能](#特色功能)
  - [可自定义的控件](#可自定义的控件)
  - [自动控制大小](#自动控制大小)
  - [高清显示](#高清显示)
  - [简单的动画效果](#简单的动画效果)
  - [渐变色](#渐变色)
  - [详细的类型提示](#详细的类型提示)
  - [跨平台](#跨平台)
  - [3D 绘图](#3d-绘图)

---

## 基本介绍

tkintertools 是一款基于 tkinter 模块、二次开发的轻量级界面编程模块。它的设计初心是为了辅助 tkinter 进行界面的开发，以达到 **美化界面**、**快捷开发**、**简单易用** 的目的。

> **Note**  
> 想要充分地利用 tkintertools 模块，开发人员首先要对 tkinter 模块有一定的了解（不需要了解太多）！

### 基本原理

tkintertools 的控件并非真实的控件，而是在 tkinter 模块中 `Canvas` 对象中绘制而成的，也就是说，所有的控件都是没有句柄的，都只是 `Canvas` 对象中的线条和颜色块罢了。但就是这些线条和颜色块，就能重新构建我们的控件，尽管它们并非真的控件。由于是绘制而成的，自然我们就可以自定义我们控件的外观，而不再被原始控件的外观所约束。这就是所谓的 “**美化界面**” 啦！

有了我们自己绘制的控件，当然还不够，还需要辅以一些工具类或者函数来帮助我们进行更加快捷的开发！比如能够快速形成动画的 `move` 函数，不用我们自己管理控件缩放的重写的 `Canvas` 控件，防止控件重复生成，浪费内存的单例模式类 `Singleton`，等等！这就是 “**快捷开发**”！

有了这些东西，要是程序员不会用，看不懂文档，那也没有用！因此了解了很多 Python 关于 type hints（类型提示）的知识，直接把开发文档作为 docstring（文档字符串）放在了每个类和函数源代码对应的位置，程序员可以在 IDE 中将鼠标移到类或者函数的名字上，简明文档就会自动弹出来。简明文档里面包含了这个类或者函数的用法、参数名称及作用，还有重载说明。当然，为了兼容不同的 Python 版本，我使用的 type hints 是最朴素的方式，直接以注释的方式呈现。这就是设计初心中的 “**简单易用**” 了。关于 type hints，请看 [PEP 484 - Type Hints](https://peps.python.org/pep-0484/)。

### 模块优点

tkintertools 完全没有使用任何第三方模块和库的，同时它也没有任何依赖包（除了 tkinter 本身），它的功能完全由内置模块和函数实现，而且它还是跨平台的！  
它的控件是在 tkinter 模块中 `Canvas` 对象中绘制而成的，这就赋予了 tkintertools 控件一些在 tkinter 中没有的特性，列举如下：

* 控件背景可以是透明的（实际上就是没有填充颜色）；
* 控件的样式可以是自定义的（比如按钮有圆角）；
* 控件的创建速度远大于 tkinter 的控件（除了 `Canvas` 控件）；

### 模块缺点

模块使用了原生的 `Canvas` 对象作为底层基础，必然就牺牲了一些特性，同时还产生了一些缺点：

* 虚拟的控件无法获取焦点；
* 虚拟的控件在文本输入和显示的功能上存在一些缺陷，文本可能会显示在边框外面，有时候还会出现严重的错误，直接使程序崩溃（这个缺陷很难被触发，但仍需要我去解决）；

## 特色功能

下面列举一些 tkintertools 模块还具有的一些特色功能（不一定完整）。

### 可自定义的控件

tkintertools 模块的控件拥有许多参数供我们设置，比如圆角的半径、文本和边框以及控件内部的颜色，关联事件等等。  
这里要说明的是，每个控件可以设置的关联事件不止一种，在鼠标经过控件时可以绑定事件，鼠标点击控件也可以，鼠标点击后松开也行等等。  
文本和边框以及控件的填充色也是类似的，在鼠标经过控件、点击控件、点击后松开都可以设定颜色。  
文本类控件还能够从右边逐步输入文本，文本输入提示符也可以不是单调无趣的竖线，可以是其他的，比如下划线等。  

下面给大家看个自定义进度条的图，让大家感受一下效果！

![png](res/ProgressbarTest.png)

### 自动控制大小

tkintertools 中的控件，其大小和形状可以随着窗口的变化而成比例地变化，不仅仅是控件中的文本，Canvas 绘制的图形也会随之变动，更让人兴奋的是，png 类型的图片也会随之成比例地缩放！当然，你也可以设定参数让其不随之变动，也可以设定参数使其在缩放的时候保持横纵方向的比例。  
总之，很方便，很舒适！

下面一张图展示了什么叫“解放双手，全自动控制”！顺便一提，下面的是旧版 tkintertools 的测试图像（暂时把图拿来充数）

![gif](res/autosize.gif)

### 高清显示

其实这是 tkinter 的一个 bug 没有修复而已……这是在 Windows 系统上独有的问题，对于电脑缩放比率不是 100% 的伙计们而言，这个问题就会出现，也就是窗口模糊。但好在 tkintertools 解决了这个问题！顺便一提，这个解决办法是在 Python 内置库 `idlelib` 中找到的。tkintertools 只是对这个方法进行了一些简单的封装。

我们以 IDLE 为例，若是不执行处理 DPI 的相关功能，效果是这样的：

![png](res/SetProcessDpiAwareness_0.png)

若是执行了相关的函数，效果是这样的：

![png](res/SetProcessDpiAwareness_1.png)

这两张图片的清晰度完全不一样，这里可不是我故意改变了图片的清晰度！这在我的笔记本电脑上是真实存在的效果！下面是我笔记本的缩放比率（显然不是 100%）：

![png](res/my_scale.png)

### 简单的动画效果

通过 tkintertools ，要实现一个简单的动画效果十分容易，下面就是一个示例（旧版图片，拿来暂时充数）：

![gif](res/old_animation.gif)

当然，不仅仅是这样的动画效果，还可以这样：

![gif](res/MoveTest.gif)

### 渐变色

渐变色实际上并不是主要的功能，只是 tkintertools 附带的功能。  
下面是一个简单的渐变色示例：

![png](res/ColorTest.png)

下面这张是不是更加逼真呢？

![png](res/Test_Draw.png)

### 详细的类型提示

参考 [PEP 526](https://peps.python.org/pep-0526/)、[PEP 586](https://peps.python.org/pep-0586/)、[PEP 604](https://peps.python.org/pep-0604/) 和 [PEP 612](https://peps.python.org/pep-0612/)，tkintertools 采用了最兼容的方式去实现详细的类型提示，可适用 IDE 有 VScode、Pycharm 等。  
那什么是类型提示呢？话不多说，直接看图就行：

![png](res/type_hint_vscode.png)

在 VSCode 编辑器中，当鼠标移至类或者函数的名字上面时，会自动显示该类或者函数的注释文档。通过这种方式，不需要看太多的帮助文档和资料就能熟练地使用 tkintertools 模块！

这些类型提示，对应到源代码上去就是这些注释文档：

![png](res/type_hint_source.png)

### 跨平台

测试程序在 Windows 系统（Windows10）上运行的界面如下：

![png](res/test_windows10.png)

测试程序在 Linux 系统（WSL-Ubuntu22.04）上运行的界面如下：

![png](res/test_linux.png)

测试程序在 Windows 系统（Windows11）上运行的界面如下（智能控制圆角半径）：

![png](res/test_windows11.png)

如你所见，在多个不同的平台上都是可以运行的。

### 3D 绘图

tkintertools 可以方便快捷地绘制一些直边的几何体以及单独的点、线和面，以及进行一些简单的操作，如平移、旋转、缩放等。

![png](res/3d_side.png)

---

更多新的功能可能在此处还未更新，请到 [仓库首页](..) 进行查看！
